<!DOCTYPE html>
<html>
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width,initial-scale=1,minimum-scale=1,maximum-scale=1,user-scalable=no,minimal-ui">
        <title>web ar</title>
        <meta property="og:image" content="https://youheinakagawa.github.io/webar-test/assets/images/preview.png">
        <script type="module" src="https://unpkg.com/@google/model-viewer/dist/model-viewer.js"></script>
        <script nomodule src="https://unpkg.com/@google/model-viewer/dist/model-viewer-legacy.js"></script>
        <style>
            html, body {
                margin: 0;
                padding: 0;
            }
            .demo {
                position: relative;
                top: 0;
                flex: 1;
                align-items: center;
                height: 76vh;
                flex-direction: column-reverse;
            }
            model-viewer {
                width: 100%;
                height: 100%;
            }
        </style>
    </head>
    <body>
        <div class="demo">
            <model-viewer
                src="https://youheinakagawa.github.io/webar-test/models/fdml/fdml.glb"
                    ios-src="https://youheinakagawa.github.io/webar-test/models/fdml/fdml.usdz"
                    camera-controls
                    autoplay 
                    shadow-intensity="1"
                    ar
                    alt=""
                    auto-rotate camera-controls
                    load="console.log('fired');document.querySelector('body > model-viewer').shadowRoot.querySelector('#default-ar-button').click();">
            </model-viewer> 
        </div>
        <script>
        document.addEventListener('DOMContentLoaded', (event) => {
            console.log("loaded");
            setTimeout(function() {
                console.log("timed");
                document.querySelector("body > model-viewer").shadowRoot.querySelector("#default-ar-button").click();
            }, 1000);
        });
        </script>
    </body>
</html>